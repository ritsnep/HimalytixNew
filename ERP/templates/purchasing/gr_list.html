<form
  class="row g-2 align-items-end mb-3"
  hx-get="{% url 'purchasing:gr_list' %}"
  hx-target="#gr-list-panel"
  hx-swap="innerHTML">
  <div class="col-12">
    <label class="form-label visually-hidden" for="gr-search">Search</label>
    <input
      id="gr-search"
      type="search"
      name="search"
      class="form-control form-control-sm"
      placeholder="Search by GR number or PO number"
      value="{{ request.GET.search|default:'' }}"
      autocomplete="off">
  </div>
  <div class="col">
    <label class="form-label visually-hidden" for="gr-status">Status</label>
    <select
      id="gr-status"
      name="status"
      class="form-select form-select-sm">
      <option value="">All statuses</option>
      {% for value, label in status_choices %}
      <option value="{{ value }}" {% if request.GET.status == value %}selected{% endif %}>{{ label }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="col-auto">
    <button class="btn btn-outline-secondary btn-sm" type="submit">Filter</button>
  </div>
</form>

<div class="list-group list-group-flush shadow-none">
  {% for gr in grs %}
  <button
    type="button"
    class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
    hx-get="{% url 'purchasing:gr_detail' gr.pk %}"
    hx-target="#gr-detail-panel"
    hx-swap="innerHTML">
    <div class="text-start">
      <div class="fw-semibold">{{ gr.number|default:gr.pk }}</div>
      <small class="text-muted">PO {{ gr.purchase_order.number }} | {{ gr.warehouse.name }}</small>
    </div>
    <div class="text-end">
      <div class="fw-semibold">{{ gr.receipt_date }}</div>
      <span class="badge bg-light text-dark text-uppercase">{{ gr.get_status_display }}</span>
    </div>
  </button>
  {% empty %}
  <div class="text-center text-muted py-5">
    <p class="mb-1">No goods receipts found.</p>
    <small>Use the + button to create the first one.</small>
  </div>
  {% endfor %}
</div>
