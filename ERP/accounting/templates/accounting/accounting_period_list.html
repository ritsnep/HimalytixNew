{% extends 'accounting/_list_base.html' %}
{% block table_head %}
<thead>
    <tr>
        <th>Name</th>
        <th>Period Number</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Status</th>
        <th>Is Current</th>
        <th>Actions</th>
    </tr>
</thead>
{% endblock %}
{% block table_body %}
<tbody>
    {% for period in accounting_periods %}
    <tr>
        <td>{{ period.name }}</td>
        <td>{{ period.period_number }}</td>
        <td>{{ period.start_date }}</td>
        <td>{{ period.end_date }}</td>
        <td>{{ period.get_status_display }}</td>
        <td>{{ period.is_current|yesno:"Yes,No" }}</td>
        <td>
            <a href="{% url 'accounting:accounting_period_detail' period.period_id %}">View</a> |
            <a href="{% url 'accounting:accounting_period_update' period.period_id %}">Edit</a>
         {% if period.status == 'open' %}|
            <form method="post" action="{% url 'accounting:accounting_period_close' period.period_id %}" class="d-inline">
                {% csrf_token %}
                <button type="submit" class="btn btn-link p-0">Close</button>
            </form>
            {% endif %}
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="7">No accounting periods found.</td></tr>
    {% endfor %}
</tbody>
{% endblock %}
