{% extends 'accounting/_list_base.html' %}
{% block title %}Project List{% endblock %}

{% block list_header %}
<h4 class="card-title">Project</h4>
<a href="{% url 'accounting:project_create' %}" class="btn btn-success mb-2">
    <i class="mdi mdi-plus me-1"></i> New Project
</a>
{% endblock %}

{% block table_head %}
<thead>
  <tr>
    <th>Code</th>
    <th>Name</th>
    <th>Description</th>
    <th>Status</th>
    <th data-default-visible="false">Start Date</th>
    <th data-default-visible="false">End Date</th>
    <th data-default-visible="false">Archived At</th>
    <th data-default-visible="false">Created At</th>
    <th data-default-visible="false">Updated At</th>
    <th data-default-visible="false">Created By</th>
    <th data-default-visible="false">Updated By</th>
    <th class="no-search">Action</th>
  </tr>
</thead>
{% endblock %}

{% block table_body %}
<tbody>
  {% for p in projects %}
  <tr>
    <td>{{ p.code }}</td>
    <td>{{ p.name }}</td>
    <td>{{ p.description }}</td>
    <td>
      {% if p.is_active %}
        <span class="badge bg-success">Active</span>
      {% else %}
        <span class="badge bg-danger">Inactive</span>
      {% endif %}
    </td>
    <td>{{ p.start_date }}</td>
    <td>{{ p.end_date }}</td>
    <td>{{ p.archived_at }}</td>
    <td>{{ p.created_at }}</td>
    <td>{{ p.updated_at }}</td>
    <td>{{ p.created_by }}</td>
    <td>{{ p.updated_by }}</td>
    <td>
      <a href="{% url 'accounting:project_update' p.project_id %}" class="btn btn-sm btn-primary">Edit</a>
    </td>
  </tr>
  {% empty %}
  <tr><td colspan="5">No projects found.</td></tr>
  {% endfor %}
</tbody>
{% endblock %}
