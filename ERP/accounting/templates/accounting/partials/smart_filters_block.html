{% comment %}Render a single filter block based on kind{% endcomment %}

{% if f.kind == 'choice' %}
<div class="col-md-2">
    <label for="smart-{{ f.name }}" class="form-label">{{ f.name|capfirst }}</label>
    <select id="smart-{{ f.name }}" name="{{ f.name }}" class="form-select form-select-sm">
        <option value="">All</option>
        {% for val,label in f.options %}
            <option value="{{ val }}" {% if f.value == val|stringformat:'s' %}selected{% endif %}>{{ label }}</option>
        {% endfor %}
    </select>
</div>
{% elif f.kind == 'boolean' %}
<div class="col-md-2">
    <label for="smart-{{ f.name }}" class="form-label">{{ f.name|capfirst }}</label>
    <select id="smart-{{ f.name }}" name="{{ f.name }}" class="form-select form-select-sm">
        <option value="">All</option>
        <option value="yes" {% if f.value == 'yes' %}selected{% endif %}>Yes</option>
        <option value="no" {% if f.value == 'no' %}selected{% endif %}>No</option>
    </select>
</div>
{% elif f.kind == 'currency' %}
<div class="col-md-2">
    <label for="smart-currency" class="form-label">Currency</label>
    <select id="smart-currency" name="currency" class="form-select form-select-sm">
        <option value="">All</option>
        {% if currency_choices %}
            {% for c in currency_choices %}
                {% comment %}Select when filter value matches OR when no filter value and a default_currency is provided{% endcomment %}
                <option value="{{ c.pk }}"
                    {% if f.value|add:"" == c.pk|add:"" %}selected{% elif not f.value and default_currency %}
                        {% if c.currency_code == default_currency.currency_code or c.currency_code == default_currency %}selected{% endif %}
                    {% endif %}>
                    {{ c.currency_code }} - {{ c.currency_name }}
                </option>
            {% endfor %}
        {% endif %}
    </select>
</div>
{% elif f.kind == 'date' %}
<div class="col-md-2">
    <label class="form-label">{{ f.name|capfirst }} From</label>
    <input type="date" class="form-control form-control-sm" name="{{ f.name }}_from" value="{{ f.from }}">
</div>
<div class="col-md-2">
    <label class="form-label">{{ f.name|capfirst }} To</label>
    <input type="date" class="form-control form-control-sm" name="{{ f.name }}_to" value="{{ f.to }}">
</div>
{% endif %}
