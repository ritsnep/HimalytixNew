{% extends "inventory/_form_base.html" %}
{% load static %}
{% block page_title %}Barcode Scanner{% endblock %}

{% block form_content %}
<div class="row g-3">
  <div class="col-12">
    <p class="text-muted">
      Scan or enter a product barcode/ SKU to see current warehouse quantities. Designed for mobile/tablet screens.
    </p>
    <form id="barcode-scanner-form" class="d-flex gap-2">
      <input type="text" id="barcode-input" class="form-control" placeholder="Scan or type barcode/SKU" autocomplete="off" autofocus>
      <button type="submit" class="btn btn-primary">Lookup</button>
    </form>
  </div>
</div>

<div class="card mt-4" id="scanner-results" hidden>
  <div class="card-header">
    <h5 class="card-title mb-0">Scan Results</h5>
  </div>
  <div class="card-body">
    <div id="scanner-product" class="mb-3"></div>
    <div id="scanner-locations" class="table-responsive"></div>
  </div>
</div>

<div class="alert alert-info mt-4">
  <h6 class="mb-1">Workflow ideas</h6>
  <ul class="mb-0">
    <li>Use the device camera to scan the barcode and confirm the product + location combination.</li>
    <li>Tap a location row to open a transfer or adjustment quickly.</li>
    <li>Switch to batch scanning by combining barcodes with batch labels.</li>
  </ul>
</div>
{% endblock %}

{% block extra_js %}
  {{ block.super }}
  <script src="{% static 'inventory/js/barcode_scan.js' %}"></script>
{% endblock %}
