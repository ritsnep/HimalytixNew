{% extends "components/base/list_base.html" %}
{% load static %}

{% block title %}RMAs{% endblock %}
{% block list_page_title %}Return Merchandise Authorizations{% endblock %}
{% block list_title %}RMA List{% endblock %}

{% block list_actions %}
  {% if can_add and create_url %}
  <a href="{{ create_url }}" class="btn btn-success btn-sm">
    <i class="mdi mdi-plus"></i> Create RMA
  </a>
  {% endif %}
{% endblock %}

{% block table_head %}
  <tr>
    <th>Number</th>
    <th>Product</th>
    <th>Warehouse</th>
    <th>Status</th>
    <th>Reason</th>
    <th class="text-end">Qty</th>
    <th style="width:140px;">Actions</th>
  </tr>
{% endblock %}

{% block table_body %}
  {% for rma in object_list %}
    <tr>
      <td class="fw-semibold">{{ rma.rma_number }}</td>
      <td>{{ rma.product.code }}</td>
      <td>{{ rma.warehouse.code }}</td>
      <td><span class="badge bg-light text-dark">{{ rma.get_status_display }}</span></td>
      <td>{{ rma.get_reason_display }}</td>
      <td class="text-end">{{ rma.quantity }}</td>
      <td>
        <div class="btn-group btn-group-sm" role="group">
          <a href="{% url 'inventory:rma_detail' rma.pk %}" class="btn btn-outline-info">View</a>
          {% if can_change %}<a href="{% url 'inventory:rma_update' rma.pk %}" class="btn btn-outline-primary">Edit</a>{% endif %}
          {% if can_delete %}<a href="{% url 'inventory:rma_delete' rma.pk %}" class="btn btn-outline-danger">Delete</a>{% endif %}
        </div>
      </td>
    </tr>
  {% empty %}
    <tr><td colspan="7" class="text-center text-muted py-3">No RMAs found.</td></tr>
  {% endfor %}
{% endblock %}
